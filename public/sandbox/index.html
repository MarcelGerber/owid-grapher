<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta charset="UTF-8" />
        <title>OWID GCharts</title>
        <link
            href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,300;0,400;0,700;1,400;1,700&family=Playfair+Display:wght@400;700&display=swap"
            rel="stylesheet"
        />
        <link rel="stylesheet" href="http://localhost:8090/css/commons.css" />
        <link rel="stylesheet" href="http://localhost:8090/css/owid.css" />
    </head>
    <body class="ChartPage">
        <main>
            <figure data-grapher-src=""></figure>
        </main>
        <script src="http://localhost:8090/js/commons.js"></script>
        <script src="http://localhost:8090/js/owid.js"></script>
        <script src="chart.js"></script>
        <script>
            if (typeof sandboxChart === "undefined")
                alert(
                    "To use the Sandbox, first paste a ChartConfig object into 'sandbox/chart.js'. A sample is provided for you in 'sandbox/chart.sample.js'"
                )
            var figure = document.getElementsByTagName("figure")[0]

            try {
                window.App = {}
                var view = window.ChartView.bootstrap({
                    jsonConfig: sandboxChart,
                    containerNode: figure,
                    queryStr: window.location.search
                })
                view.bindToWindow()
            } catch (err) {
                figure.innerHTML =
                    "<p>Unable to load interactive visualization</p>"
                figure.setAttribute("id", "fallback")
                throw err
            }
        </script>
    </body>
</html>
